<!DOCTYPE HTML>
<html lang="en" class="sidebar-visible no-js light">
    <head>
        <!-- Book generated using mdBook -->
        <meta charset="UTF-8">
        <title>RESTful API Basics - Mapper | A Full Stack JS Book</title>
        
        


        <!-- Custom HTML head -->
        


        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="theme-color" content="#ffffff" />

        
        <link rel="icon" href="../favicon.svg">
        
        
        <link rel="shortcut icon" href="../favicon.png">
        
        <link rel="stylesheet" href="../css/variables.css">
        <link rel="stylesheet" href="../css/general.css">
        <link rel="stylesheet" href="../css/chrome.css">
        
        <link rel="stylesheet" href="../css/print.css" media="print">
        

        <!-- Fonts -->
        <link rel="stylesheet" href="../FontAwesome/css/font-awesome.css">
        
        <link rel="stylesheet" href="../fonts/fonts.css">
        

        <!-- Highlight.js Stylesheets -->
        <link rel="stylesheet" href="../highlight.css">
        <link rel="stylesheet" href="../tomorrow-night.css">
        <link rel="stylesheet" href="../ayu-highlight.css">

        <!-- Custom theme stylesheets -->
        

        
    </head>
    <body>
        <!-- Provide site root to javascript -->
        <script type="text/javascript">
            var path_to_root = "../";
            var default_theme = window.matchMedia("(prefers-color-scheme: dark)").matches ? "navy" : "light";
        </script>

        <!-- Work around some values being stored in localStorage wrapped in quotes -->
        <script type="text/javascript">
            try {
                var theme = localStorage.getItem('mdbook-theme');
                var sidebar = localStorage.getItem('mdbook-sidebar');

                if (theme.startsWith('"') && theme.endsWith('"')) {
                    localStorage.setItem('mdbook-theme', theme.slice(1, theme.length - 1));
                }

                if (sidebar.startsWith('"') && sidebar.endsWith('"')) {
                    localStorage.setItem('mdbook-sidebar', sidebar.slice(1, sidebar.length - 1));
                }
            } catch (e) { }
        </script>

        <!-- Set the theme before any content is loaded, prevents flash -->
        <script type="text/javascript">
            var theme;
            try { theme = localStorage.getItem('mdbook-theme'); } catch(e) { }
            if (theme === null || theme === undefined) { theme = default_theme; }
            var html = document.querySelector('html');
            html.classList.remove('no-js')
            html.classList.remove('light')
            html.classList.add(theme);
            html.classList.add('js');
        </script>

        <!-- Hide / unhide sidebar before it is displayed -->
        <script type="text/javascript">
            var html = document.querySelector('html');
            var sidebar = 'hidden';
            if (document.body.clientWidth >= 1080) {
                try { sidebar = localStorage.getItem('mdbook-sidebar'); } catch(e) { }
                sidebar = sidebar || 'visible';
            }
            html.classList.remove('sidebar-visible');
            html.classList.add("sidebar-" + sidebar);
        </script>

        <nav id="sidebar" class="sidebar" aria-label="Table of contents">
            <div class="sidebar-scrollbox">
                <ol class="chapter"><li class="chapter-item expanded "><a href="../intro/intro.html"><strong aria-hidden="true">1.</strong> Introduction</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../intro/rest_basics.html" class="active"><strong aria-hidden="true">1.1.</strong> RESTful API Basics</a></li></ol></li><li class="chapter-item expanded "><li class="part-title">Backend</li><li class="chapter-item expanded "><a href="../chapter_1/setup_api_server.html"><strong aria-hidden="true">2.</strong> Setup API Server</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../chapter_1/prerequisites.html"><strong aria-hidden="true">2.1.</strong> Prerequisites</a></li><li class="chapter-item expanded "><a href="../chapter_1/create_project.html"><strong aria-hidden="true">2.2.</strong> Create Project</a></li><li class="chapter-item expanded "><a href="../chapter_1/basic_express_app.html"><strong aria-hidden="true">2.3.</strong> Basic Express App</a></li><li class="chapter-item expanded "><a href="../chapter_1/docker_files.html"><strong aria-hidden="true">2.4.</strong> Create Docker Files</a></li><li class="chapter-item expanded "><a href="../chapter_1/github_repo.html"><strong aria-hidden="true">2.5.</strong> Create GitHub Repo</a></li></ol></li><li class="chapter-item expanded "><a href="../chapter_2/api_design.html"><strong aria-hidden="true">3.</strong> Design and Build API</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../chapter_2/mongo.html"><strong aria-hidden="true">3.1.</strong> Connect Mongo</a></li><li class="chapter-item expanded "><a href="../chapter_2/models.html"><strong aria-hidden="true">3.2.</strong> Models</a></li><li class="chapter-item expanded "><a href="../chapter_2/routing.html"><strong aria-hidden="true">3.3.</strong> Routing</a></li></ol></li><li class="chapter-item expanded "><div><strong aria-hidden="true">4.</strong> Testing API</div></li><li class="chapter-item expanded affix "><li class="part-title">Frontend</li><li class="chapter-item expanded "><div><strong aria-hidden="true">5.</strong> Setup React App</div></li></ol>
            </div>
            <div id="sidebar-resize-handle" class="sidebar-resize-handle"></div>
        </nav>

        <div id="page-wrapper" class="page-wrapper">

            <div class="page">
                
                <div id="menu-bar-hover-placeholder"></div>
                <div id="menu-bar" class="menu-bar sticky bordered">
                    <div class="left-buttons">
                        <button id="sidebar-toggle" class="icon-button" type="button" title="Toggle Table of Contents" aria-label="Toggle Table of Contents" aria-controls="sidebar">
                            <i class="fa fa-bars"></i>
                        </button>
                        <button id="theme-toggle" class="icon-button" type="button" title="Change theme" aria-label="Change theme" aria-haspopup="true" aria-expanded="false" aria-controls="theme-list">
                            <i class="fa fa-paint-brush"></i>
                        </button>
                        <ul id="theme-list" class="theme-popup" aria-label="Themes" role="menu">
                            <li role="none"><button role="menuitem" class="theme" id="light">Light (default)</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="rust">Rust</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="coal">Coal</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="navy">Navy</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="ayu">Ayu</button></li>
                        </ul>
                        
                        <button id="search-toggle" class="icon-button" type="button" title="Search. (Shortkey: s)" aria-label="Toggle Searchbar" aria-expanded="false" aria-keyshortcuts="S" aria-controls="searchbar">
                            <i class="fa fa-search"></i>
                        </button>
                        
                    </div>

                    <h1 class="menu-title">Mapper | A Full Stack JS Book</h1>

                    <div class="right-buttons">
                        
                        <a href="../print.html" title="Print this book" aria-label="Print this book">
                            <i id="print-button" class="fa fa-print"></i>
                        </a>
                        
                        
                        <a href="https://github.com/duanebester/map-api-book" title="Git repository" aria-label="Git repository">
                            <i id="git-repository-button" class="fa fa-github"></i>
                        </a>
                        
                    </div>
                </div>

                
                <div id="search-wrapper" class="hidden">
                    <form id="searchbar-outer" class="searchbar-outer">
                        <input type="search" name="search" id="searchbar" name="searchbar" placeholder="Search this book ..." aria-controls="searchresults-outer" aria-describedby="searchresults-header">
                    </form>
                    <div id="searchresults-outer" class="searchresults-outer hidden">
                        <div id="searchresults-header" class="searchresults-header"></div>
                        <ul id="searchresults">
                        </ul>
                    </div>
                </div>
                

                <!-- Apply ARIA attributes after the sidebar and the sidebar toggle button are added to the DOM -->
                <script type="text/javascript">
                    document.getElementById('sidebar-toggle').setAttribute('aria-expanded', sidebar === 'visible');
                    document.getElementById('sidebar').setAttribute('aria-hidden', sidebar !== 'visible');
                    Array.from(document.querySelectorAll('#sidebar a')).forEach(function(link) {
                        link.setAttribute('tabIndex', sidebar === 'visible' ? 0 : -1);
                    });
                </script>

                <div id="content" class="content">
                    <main>
                        <h1><a class="header" href="#restful-api-basics" id="restful-api-basics">RESTful API Basics</a></h1>
<h3><a class="header" href="#api" id="api">API</a></h3>
<p>To understand what a RESTful API is, we need to understand what an API is.</p>
<p>API stands for &quot;<strong>A</strong>pplication <strong>P</strong>rogramming <strong>I</strong>nterface&quot; and is &quot;a computing interface that defines interactions between multiple software intermediaries. It defines the kinds of calls or requests that can be made, how to make them, the data formats that should be used, the conventions to follow&quot; - Wikipedia.</p>
<p>We can think of an API almost as a set of rules and conditions that we expect software to adhere to. There is no magic to this-- we can define an API any way we like. Let's define a simple one:</p>
<p>Our API (version 1.0):</p>
<ul>
<li>You give me any number, and I'll return that number.</li>
<li>You give me any two numbers, and I'll give you their product.</li>
</ul>
<p>That's all it takes! The above is a totally legit API. Just a list of bullet points.</p>
<p>An API is just a way to define a set of rules. It was invented to allow software developers to modularize their code. You could take the above API defintion, hand it to any software developer, and they can write the code that adheres to the rules.</p>
<p>E.g.</p>
<pre><code class="language-ignore">Input x, y:
    If y is Undefined
        Set y = 1

    Return (x * y)
</code></pre>
<p>But this API isn't fool-proof... What happens if we were given something other than numbers? We can totally add or multiply <code>'a'</code> and <code>'b'</code>, but it might not be what you expect. For example, in JavaScript:</p>
<pre><code class="language-js">console.log('a' + 'b');
// Returns 'ab'
console.log('a' * 'b');
// Returns NaN (Not A Number)
</code></pre>
<p>Luckily we can extend an API. Let's say version 1.0 is deprecated and everyone must use our newly extended API:</p>
<p>Our API (version 2.0):</p>
<ul>
<li>You give me any number, and I'll return that number.</li>
<li>You give me any two numbers, and I'll give you their product.</li>
<li>Can only enter numbers, entering anything else returns an error message.</li>
</ul>
<p>E.g.</p>
<pre><code class="language-ignore">Input x, y:
    If x is Undefined
        Return Error

    If x isNot Number
        Return Error

    If y is Undefined
        Set y = 1

    If y isNot Number
        Return Error

    Return x * y
</code></pre>
<p>The nice thing about this is you could define multiple API specifications and then stitch them all together. An API, for example, can be the bridge between two software developers. Bob is writing some code for a Math library and needs a function for multiplication. Jim has some free time and can write the multiplication code. Bob and Jim agree on an API, such that as long as Jim's code meets the API definition, we can combine the two pieces of code together when they have both finished. Modularization.</p>
<p>Our list of bulletpoints totally works, but code is much more succint, and can be Type checked. In TypeScript, Bob can define the interface as a function. Same as our bulletpoints, the function takes a number and a second optional number. It then returns a number. He can then continue on his day writing other code that would call this function:</p>
<pre><code class="language-ts">interface IMath {
    multiply: (x:Number, y?:Number) =&gt; Number
}
</code></pre>
<p>Jim would then write the implementation. Same as the bulletpoint logic; If the type of the first input isn't a number, return an error. If the type of the second input isn't defined, we set it to <code>1</code>. If the second input was defined, but it's not a number, return an error. Otherwise if all is good, return the multiplication of the two inputs:</p>
<pre><code class="language-ts">var math:IMath = {
    multiply: (x:Number, y?:Number) =&gt; {
        if(typeof x !== 'number') throw new Error()
        if(typeof y === 'undefined') y = 1
        if(typeof y !== 'number') throw new Error()
        return x * y
    }
}
</code></pre>
<p>Bob could then use Jim's implementation in his code:</p>
<pre><code class="language-ts">console.log(math.multiply(2))   // 2
console.log(math.multiply(2,3)) // 6
</code></pre>
<p>Voilà, we are interface masters. just created a simple interface and the implementation of that interface... Remember that API stands for Application Programming <strong>Interface</strong>? This basically means that a whole <em>Application</em> has an <em>Interface</em>.</p>
<p>So a better example of an <em>API</em> versus <em>just the I</em> might look more like this:</p>
<pre><code class="language-ts">interface IMath {
    add: (x:Number, y?:Number) =&gt; Number
    subtract: (x:Number, y?:Number) =&gt; Number
    multiply: (x:Number, y?:Number) =&gt; Number
    divide: (x:Number, y?:Number) =&gt; Number
}
</code></pre>
<h3><a class="header" href="#rest" id="rest">REST</a></h3>
<p>REST stands for &quot;<strong>RE</strong>presentational <strong>S</strong>tate <strong>T</strong>ransfer&quot; and a RESTful Web service is required to provide an application access to its Web resources in a textual representation. - Wikipedia</p>
<p>This interpretation doesn't win awards for being clear. A RESTful API <em>could be many things,</em> but the community has largely accepted that sending Http Requests and Responses in a certain manner constitutes as RESTful. A RESTful API is the bridge between the &quot;Frontend&quot; and &quot;Backend&quot; code that is needed to build a web application. They communicate via the API. Backend code is usually the server that connects to a database and performs business logic on said data before sending it to a Frontend. The Frontend is usually an application that runs in the browser that makes the business logic and data make sense to users. The Frontend also handles user input and interactions. Why split the two? Again, for modularization. The two areas have become complex enough that they require more expertise. Thus web applications are largely split.</p>
<p>For us to build a RESTful API we need to focus on three attributes of an Http Request:</p>
<ul>
<li>Method</li>
<li>Path</li>
<li>Body</li>
</ul>
<p>Request Headers are important for Http, frameworks, and Auth. However, for basic RESTful model design, we won't worry about them.</p>
<pre><code class="language-ts">Request {
    Path: String
    Body: String | Object
    Method: String
    Headers: Object
}
</code></pre>
<p>The Http Request Path is the URL endpoint. If we had a URL such as <code>https://my-website.com/api/users</code> the path would be <code>/api/users</code>.</p>
<pre><code class="language-ts">Request {
    Path: &quot;/api/users&quot;
}
</code></pre>
<p>The Body of an Http Request is the data the Request contains. For our purposes, this will be a JSON document with info we want to send to our service.</p>
<pre><code class="language-ts">Request {
    Body: { name: &quot;John&quot;, age: 30 }
}
</code></pre>
<p>An Http Request Method is usually one of the following; <code>GET</code>, <code>PUT</code>, <code>POST</code>, <code>DELETE</code>. (There are many others, but these are the most common).</p>
<pre><code class="language-ts">Request {
    Method: &quot;POST&quot;
}
</code></pre>
<p>With the above three attributes, we can build a RESTful service for a User resource (often called a Model). The most common, and usually the default way to represent state transfer for a model is called &quot;CRUD&quot; which stands for Create, Read, Update, and Delete. This makes sense as if we have a User model, we would likely want to create users, retrieve users, update them, and perhaps delete them.</p>
<p>Say we want to <strong>get</strong> the <strong>users</strong> from our service, we'd send an Http Request with the method set to <strong>GET</strong> and the path set to <strong>/api/users</strong>:</p>
<blockquote>
<p>Note that we don't need to send any info in the Body to retrieve users.</p>
</blockquote>
<pre><code class="language-ts">GetUsersRequest {
    Path: &quot;/api/users&quot;
    Body: {}
    Method: &quot;GET&quot;
}
</code></pre>
<p>And if we wanted to create a new user:</p>
<pre><code class="language-ts">AddUserRequest {
    Path: &quot;/api/users&quot;
    Body: { name: &quot;John&quot;, age: 30 }
    Method: &quot;POST&quot;
}
</code></pre>
<p>And if we wanted to update the user's age (we need the ID of the user in the Path):</p>
<pre><code class="language-ts">UpdateUserRequest {
    Path: `/api/users/&lt;user-id&gt;`
    Body: { name: &quot;John&quot;, age: 31 }
    Method: &quot;PUT&quot;
}
</code></pre>
<p>And if we wanted to delete the user (we need the ID of the user in the Path):</p>
<pre><code class="language-ts">DeleteUserRequest {
    Path: `/api/users/&lt;user-id&gt;`
    Body: {}
    Method: &quot;DELETE&quot;
}
</code></pre>
<p>With the above RESTful API defined, the frontend developers can build an application that queries for users. Similarly, the backend developers can build their code to serve up users and ways to modify users. Once both sides have completed their code, the whole system works together.</p>

                    </main>

                    <nav class="nav-wrapper" aria-label="Page navigation">
                        <!-- Mobile navigation buttons -->
                        
                            <a rel="prev" href="../intro/intro.html" class="mobile-nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                                <i class="fa fa-angle-left"></i>
                            </a>
                        

                        
                            <a rel="next" href="../chapter_1/setup_api_server.html" class="mobile-nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                                <i class="fa fa-angle-right"></i>
                            </a>
                        

                        <div style="clear: both"></div>
                    </nav>
                </div>
            </div>

            <nav class="nav-wide-wrapper" aria-label="Page navigation">
                
                    <a rel="prev" href="../intro/intro.html" class="nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                        <i class="fa fa-angle-left"></i>
                    </a>
                

                
                    <a rel="next" href="../chapter_1/setup_api_server.html" class="nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                        <i class="fa fa-angle-right"></i>
                    </a>
                
            </nav>

        </div>

        

        

        

        
        <script type="text/javascript">
            window.playground_copyable = true;
        </script>
        

        

        
        <script src="../elasticlunr.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="../mark.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="../searcher.js" type="text/javascript" charset="utf-8"></script>
        

        <script src="../clipboard.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="../highlight.js" type="text/javascript" charset="utf-8"></script>
        <script src="../book.js" type="text/javascript" charset="utf-8"></script>

        <!-- Custom JS scripts -->
        

        

    </body>
</html>
